<div style="width:60%;height:200px;text-align:center;border:14px solid #808080;border-top:none;border-left:none;border-bottom:none;display:inline-block">
    <div style="border:4px solid #808080;border-radius:8px;width:95%;height:100%;background-color: rgb(209, 209, 209);">
        <div style="width:100%;height:30%;text-align:center;line-height:60px;font-size:26px;font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;">VE482 Lab Report</div>
        <div style="width:100%;height:18%;text-align:center;line-height:26px;font-size:20px;font-familny:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;"><b>Lab 1</b> - Fall 2021</div>
        <div style="width:100%;height:57%;text-align:center;font-size:16px;line-height:22px;font-family: 'Courier New', Courier, monospace;font-weight:300;"><br><b>Name: Shengyuan Xu<br>ID: 518370910200<br>Email: xushengyuan@sjtu.edu.cn<br></b></div>
    </div>
</div>
<div style="width:35%;height:200px;display:inline-block;float:right">
    <div style="width:100%;height:25%;text-align:center;line-height:55px;font-size:20px;font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;"><b>Table of Contents</b></div>
    <div style="width:100%;height:75%;text-align:left;margin-left:2px;line-height:30px;font-size:13px;font-family:Verdana, Geneva, Tahoma, sans-serif;font-weight:300;">• Hardware Overview<br>• Basic shell<br>• Linux Filesystem Hierarchy</div>
</div>





[TOC]

## 1 Hardware overview

### In the computer locate:

- #### The motherboard

![image-20210926220955882](C:\Users\71401\AppData\Roaming\Typora\typora-user-images\image-20210926220955882.png)

- #### The PC power supply

![image-20210926221006926](C:\Users\71401\AppData\Roaming\Typora\typora-user-images\image-20210926221006926.png)

- #### A Hard Disk Drive

![image-20210926221113247](C:\Users\71401\AppData\Roaming\Typora\typora-user-images\image-20210926221113247.png)

- #### A PCI card

  <img src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimage.cn.made-in-china.com%2F2f0j01sMNTKQUFbYuk%2FPCI%25E5%258D%25A1.jpg&refer=http%3A%2F%2Fimage.cn.made-in-china.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1634905562&t=04022596de1590066f5118544e239543" alt="img" style="zoom:95%;" />

- #### An Optical disk drive

![img](https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fgss0.baidu.com%2F9vo3dSag_xI4khGko9WTAnF6hhy%2Fzhidao%2Fpic%2Fitem%2Feac4b74543a98226eee6c6478c82b9014a90ebaf.jpg&refer=http%3A%2F%2Fgss0.baidu.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1634905700&t=667b7bf43174d0e2443ee4a726e2186d)



### On the motherboard locate:

- #### The CPU

![image-20210926221020342](C:\Users\71401\AppData\Roaming\Typora\typora-user-images\image-20210926221020342.png)

- #### A SATA socket

![image-20210926221026765](C:\Users\71401\AppData\Roaming\Typora\typora-user-images\image-20210926221026765.png)

- #### The RAM

![image-20210926221033542](C:\Users\71401\AppData\Roaming\Typora\typora-user-images\image-20210926221033542.png)

- #### The North and South bridges

![image-20210926221132880](C:\Users\71401\AppData\Roaming\Typora\typora-user-images\image-20210926221132880.png)

- #### A PCI/PCI-e slot

![image-20210926221056097](C:\Users\71401\AppData\Roaming\Typora\typora-user-images\image-20210926221056097.png)

- #### The battery

![image-20210926221045649](C:\Users\71401\AppData\Roaming\Typora\typora-user-images\image-20210926221045649.png)

- #### The BIOS

<img src="C:\Users\71401\AppData\Roaming\Typora\typora-user-images\image-20210922204319212.png" alt="image-20210922204319212" style="zoom:125%;" />

### Q&A

- #### Where is the CPU hidden, and why?

  In the host computer, under a large radiator on the motherboard, it is stuck by a valve. Generally, next to it is the memory slot. Above the motherboard slot, the CPU, the central processing unit, is a super large-scale integrated circuit. It is the operation core and control core of a computer. Its function is mainly to interpret computer instructions and process data in computer software.
  For the safety of CPU heat dissipation, a CPU radiator will be installed on the CPU. The radiator is usually composed of an alloy heat sink and a cooling fan to quickly dissipate the heat generated by the CPU core.

- #### What are the North and South bridges?

  North South Bridge is a kind of chip structure, which has a long history and is a very popular motherboard chipset architecture. There are two large chips on the motherboard with north south bridge structure. The north bridge chip is close to the CPU, which is mainly responsible for controlling the data exchange between AGP graphics card, memory and CPU; Near the PCI slot is Nanqiao chip, which is mainly responsible for data exchange of floppy drive, hard disk, keyboard and additional card.

- #### How are the North and South Bridges connected together?

  The traditional north-south bridge architecture is connected through PCI bus. The commonly used PCI bus has 33.3mhz working frequency and 32bit transmission bit width, so the theoretical maximum data transmission rate is only 133mb / s. Due to the sharing of PCI bus, when the transmission rate of subsystems and other peripheral devices continues to improve, the low data transmission rate between the north and South bridges of the main board has gradually become the bottleneck affecting the overall performance of the system. Therefore, starting from Intel i810, chipset manufacturers began to seek a solution that can improve the North-South bridge connection bandwidth.

- #### What is the BIOS?

  BIOS chip refers to a specific ROM chip that stores BIOS programs. ROM chip is a physical object, which is essentially a memory. It is a rectangular or square chip in a small flash EEPROM memory module board on the motherboard. This kind of chip can store BIOS programs, as well as other programs and codes.
  As the first "executable program" to be processed by the CPU after the computer starts up, that is, the first "startup item". It will lead the CPU to identify and load important hardware and integrated components on the motherboard, such as hard disk, graphics card, sound card and various interfaces, then read the boot file of the operating system on the memory according to the preset sequence, find the boot partition and load the operating system through the set startup mode

- #### Take out the CPU, rotate it and try to plug it back in a different position, is that working?

  There is a small gap on both sides of the CPU, corresponding to the motherboard u, which can't be installed reversely.

- #### Explain what overlocking is?

  Each CPU has its rated main frequency, external frequency and frequency doubling. The method we use to improve the CPU's dominant frequency by changing its external frequency and frequency doubling is called overclocking. In fact, it is simply to change the CPU's working frequency.

- #### What are pins on a PCI/PCI-e card and what are they used for?

  The pin on the PCI card is an electrical connection that connects two devices.  There are many pins on a PCI card for different purposes, such as testing, grounding, VDC connection, signal transmission, etc.

- #### Before PCI-e become a common standard many graphics cards were using Accelerated Graphics Port (AGP), explain why.

  AGP (accelerated graphic port) to accelerate the graphic interface. With the development of display chip, PCI bus can not meet its needs. Intel officially launched AGP interface in July 1996, which is a special local bus for displaying AGP graphics card and picture card. Strictly speaking, AGP cannot be called a bus. It is different from PCI bus because it is a point-to-point connection, that is, it connects the control chip and AGP display card.
  
  

## 2 Git



## 3 Command line interface

- #### Use the `mkdir`, `touch`,` mv`, `cp`, and `ls` commands to:

  - Create a file named test.
  - Move test to dir/test.txt, where dir is a new directory.
  - Copy dir/test.txt to dir/test_copy.txt.
  - List all the files contained in dir.

```shell
touch test
mkdir dir
mv test dir/test.txt
cp dir/test.txt dir/test_copy.txt
ls dir/
```

- #### Use the `grep` command to:

  - List all the files form` /etc` containing the pattern `127.0.0.1`.
  - Only print the lines containing your username and root in the file `/etc/passwd` (only one grep
    should be used)

```shell
grep -rl "127.0.0.1" /etc
grep -rE "(BillXSY)|(root)" /etc/passwd  
```

- #### Use the `find` command to:

  - List all the files from `/etc` that have been accessed less than 24 hours ago.
  - List all the files from `/etc` whose name contains the pattern “netw”.

```shell
find /etc -atime -1
find /etc -name "*netw*"
```

- #### In the `bash` man-page read the part related to redirections. Explain the following operators `>`,  `>>`, `<<<`,  `>&1`,  and  `2>&1 >`. What is the use of the `tee` command.

  - `>`: **Output redirection**, redirecting the standard output into a file (the file name is specified on the right of `>`). This operation will overwrite the original content.
  - `>>`: **Appending Redirecting Output**, redirecting the standard output into a file (the file name is specified on the right of `>`). This operation will append the result after the original content instead of overwriting the original content.
  - `<<<`：**Here Strings**, passing the strings on the right of `<<<` as the standard input of the command
  - `>&1`: redirect to stdout
  - `2>&1 >`: redirect the stderr to stdout, and redirect the stdout to file on the right of `>`
  - `tee`: redirecting the standard input to a file and print it to standard output

- #### Explain the behaviour of the `xargs` command and of the `|` operator.

  - `xargs`: short for **eXtended ARGuments**. `Xargs` is a powerful command, it is able to capture the output of a command, and then transfer to another command is used to this command, the key is because many command does not support `|` pipe to pass parameters, and daily work have the necessary, so have the `xargs` command. `Xargs` are typically used with pipes.
  - `|`:  used for the output of the previous command, after a command input

- #### What are the `head` and `tail` commands? How to “live display” a file as new lines are appended?

  - `head`: output the first few rows of the file
  - `tail`: output the last few rowd of the file
  - "live display": use `tail -f`, on FIFO or special file, keep reading after EOF

- #### How to monitor the system using `ps`, `top`, `free`, `vmstat`?

  - `ps`: short for process status. This command is used to display the status of the current process
  - `top`: provide a dynamic real-time view of the system
  - `free`:  display the amount of free and used memory in the system
  - `vmstat`: vmstat is short for Virtual Meomory Statistics. It monitors the Virtual memory, process, and CPU activities of an operating system.

- #### What are the main differences between `sh`, `bash`,` csh`, and `zsh`?

  - `sh`: sh stands for Bourne Shell, developed by AT&T's Steve Bourne and named in his honor. sh is the standard shell on UNIX, and many versions of UNIX ship with sh. sh was the first popular Shell.
  - `bash`: bash shell is the default shell for Linux. bash was developed by the GNU Organization, maintains compatibility with sh shell, and is the default configuration for various Linux distributions. However, there are some differences between bash and sh: On the one hand,bash extends some commands and arguments; bash, on the other hand, is not exactly the same as sh; Compatible, some of their behaviors are not consistent, but there is little difference in most enterprise o&M situations. Special scenarios can use bash instead of sh.
  - `csh`: Another popular shell after sh was designed by Bill Joy at the University of Berkeley. The syntax of this shell is somewhat similar to that of C language, hence the name C Shell, or CSH for short.
  - `zsh`: Zsh is a powerful Shell software that can be used as an interactive terminal or as a scripting language interpreter. Zsh is compatible with POSIX sh (default: only with Emulate SH) and offers Tab completion and wildcard improvements.

- #### What is the meaning of `$0`, `$1`,…, `$?`, `$!`?

  - `$0`, `$1`... : represent the $n^{th}$ parameter
  - `&?`: The end code of the last command to run (return value)
  - `&!`: PID of the background Process last run by the Shell

- #### What is the use of the `PS3` variable? Provide a short code example.

  - an environment variable in bash that stands for the prompt message inside a shell script. It can be modified so as to provide a more user-friendly prompt.

  ```shell
  #!/bin/bash
  PS3='Select a day (1-4): '
  select i in mon tue wed exit
  do
          case $i in
                  mon) echo "monday";;
                  tue) echo "tuesday";;
                  wed) echo "wednesday";;
                  exit) exit;;
          esac
  done
  ```

  

- #### What is the purpose of the `iconv` command, and why is it useful?

  - The `iconv` command is used to convert the encoding of a file, for example, it can convert UTF8 encoding to GB18030 encoding, and vice versa.

- #### Given a variable `$temp` what is the effect of `${#temp}`, `${temp%%word}`, `${temp/pattern/string}`.

  - `${#temp}`: the number of characters in variable `temp`
  - `${temp%%word}`  the content of `temp` excluding the longest matching pattern described by `word` [^6]
  - `${temp/pattern/string}`:  the content of `temp` where the pattern given by `pattern` is replaced by the pattern given by `string`

- #### Search online (not on the man pages), how files are organised on a Unix like system. In particular explain what are the following directories used for:

  - `/`: root directory
  - `/bin`: essential user binary files for system
  - `/boot`: essential files for system booting
  - `/etc`: system configuration files
  - `/lib`: essential system libraries needed by the binary files in `/bin`
  - `/mnt`: temporary mounted files
  - `/usr/bin`: user binary files for user applications
  - `/usr/share`: architecture-independent shareable text files
  - `/usr/lib`: user libraries needed by the binary files in `/usr/bin`
  - `/usr/src`: system-related source files
  - `/proc`: system files related with process and kernel
  - `/sys`: a kernel interface that provides kernel view information and configuration settings
  - `/srv`: data for services provided by the system
  - `/media`: directory for mounting multimedia devices, such as cD-RoMs, flash drives, and hard disks, is mounted in this directory by default
  - `/opt`: directory for installing additional software on the host
  - `/var`: directories are mainly for files that change normally, including cache, log files and files generated by certain software operations
  - `/sbin`: short for ''Super user Commands for Applications'' Some hypervisors for super users
  - `/dev`: Dev is short for device. The /dev directory is important to all users. This directory contains all external devices used in Linux systems. But this is not the driver of the external device, unlike Windows or DOS. It's actually a port to access these external devices.
  - `/vmlinuz`: vmlinux is a compressed file produced by gzip and objCopy (*) 
  - `/initrd.img`: a link to the latest installed initrd

  

## 4 Game

```shell
#!/bin/bash
key=$((($RANDOM)%100))
input=-1
while [ $key -ne $input ] ; do
    read -p "Input a guessed number: " input
        if [ $key -eq $input ] ; then
                echo "Yeah! The number is $input!"
                break
        elif [ $key -gt $input ] ; then
                echo "Larger"
        else
                echo "Smaller"
        fi
done
```

